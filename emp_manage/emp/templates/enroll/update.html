<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
    <script type="text/javascript">
        var URL = "classproduct/";
        var csrftoken = $("[name=csrfmiddlewaretoken]").val();




        function getCourse() {
            $.getJSON(URL + $("#id").val())
                .done(showCourse) // on success - 200
                .fail(function() // on failure - 404
                    {
                        alert("Sorry! Course Not Found!");
                    }
                );
        }

        function showCourse(course) {
            $("#id").val(course.id)
            $("#first_name").val(course.first_name)
            $("#last_name").val(course.last_name)
            $("#username").val(course.username)
            $("#date_of_birth").val(course.date_of_birth)
            $("#gender").val(course.gender)
            $("#email_address").val(course.email_address)
            $("#contact_number").val(course.contact_number)
            $("#addressdetails").val(course.addressdetails),
                $("#address_line_1").val(course.addressdetails__address_line_1),
                $("#address_line_2").val(course.addressdetails__address_line_2),
                $("#city").val(course.addressdetails__city),
                $("#country").val(course.addressdetails__country),
                $("#pincode").val(course.addressdetails__pincode),
                $("#deleted").val(course.addressdetails__deleted)
        }

        function addCourse() {
            $.ajax({
                "url": URL,
                "data": {
                    "first_name": $("#first_name").val(),
                    "last_name": $("#last_name").val(),
                    "username": $("#username").val(),
                    "date_of_birth": $("#date_of_birth").val(),
                    "gender": $("#gender").val(),
                    "email_address": $("#email_address").val(),
                    "contact_number": $("#contact_number").val(),
                    "addressdetails": $("#addressdetails").val(),
                    "address_line_1": $("#address_line_1").val(),
                    "address_line_2": $("#address_line_2").val(),
                    "city": $("#city").val(),
                    "country": $("#country").val(),
                    "pincode": $("#pincode").val(),
                    "deleted": $("#deleted").val()
                },
                "type": "post",
                "headers": {
                    "X-CSRFToken": '{{ csrf_token }}'
                },
                "success": add_success,
                "error": add_error
            }); // ajax()
        }

        function add_success() {
            alert("Added course Successfully");
        }

        function add_error() {
            alert("Could not add course!");
        }

        function updateCourse() {
            $.ajax({
                "url": URL + $("#id").val(),
                "data": {
                    "id": $("#id").val(),
                    "first_name": $("#first_name").val(),
                    "last_name": $("#last_name").val(),
                    "username": $("#username").val(),
                    "date_of_birth": $("#date_of_birth").val(),
                    "gender": $("#gender").val(),
                    "email_address": $("#email_address").val(),
                    "contact_number": $("#contact_number").val(),
                    "address_line_1": $("#address_line_1").val(),
                    "address_line_2": $("#address_line_2").val(),
                    "city": $("#city").val(),
                    "country": $("#country").val(),
                    "pincode": $("#pincode").val(),
                    "deleted": $("#deleted").val()
                },
                "type": "put",
                "headers": {
                    "X-CSRFToken": '{{ csrf_token }}'
                },
                "success": update_success,
                "error": update_error
            }); // ajax()
        }

        function update_success() {
            alert("Updated Course Successfully");
        }

        function update_error() {
            alert("Could not update Course!");
        }
    </script>

</head>

<body>
    <center>
        <p/>
        <br> ID:
        <br>
        <input type="number" id="id">
        <br> First Name:
        <br>
        <input type="text" id="first_name">
        <br> last Name:
        <br>
        <input type="text" id="last_name">
        <br> User Name:
        <br>
        <input type="text" id="username">
        <br> DOB:
        <br>
        <input type="date" id="date_of_birth">
        <br> gender
        <br>
        <select name="gender" id="gender">
                <option value="M">Male</option>
                <option value="F">Female</option>
                <option value="U">Unisex/parody</option>
            </select>
        <br> email_address:
        <br>
        <input type="email_address" id="email_address">

        <br> contact_number Number:
        <br>
        <input type="tel" id="contact_number" pattern="[0-9]{10}" required>
        <br> addressdetails
        <br>
        <input type="text" id="addressdetails">
        <br> address1
        <br>
        <input type="text" id="address_line_1">
        <br> address2
        <br>
        <input type="text" id="address_line_2">
        <br> city
        <br>
        <input type="text" id="city">
        <br> country
        <br>
        <input type="text" id="country">
        <br> pincode
        <br>
        <input type="text" id="pincode">


        <br>
        <p/>
        <button onclick="addCourse()">Add</button>
        <button onclick="getCourse()">Details</button>
        <button onclick="updateCourse()">Update</button>
        <p/>
    </center>
</body>

</html>